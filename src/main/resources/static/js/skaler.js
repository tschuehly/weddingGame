!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.skaler=t()}(this,function(){return function(e,t){void 0===t&&(t={});var n=t.scale,i=t.width,o=t.height,a=t.name;void 0===a&&(a=e.name);var d=t.type;return void 0===d&&(d=e.type),new Promise(function(t,r){var h=new FileReader;h.readAsDataURL(e),h.onload=function(e){var f=new Image;f.onload=function(){var e=document.createElement("canvas"),u=i&&o,c=n||Math[i<f.width||o<f.height?"min":"max"](i/f.width||1,o/f.height||1),l=e.width=u?i:f.width*c,m=e.height=u?o:f.height*c;e.getContext("2d").drawImage(f,0,0,l,m),e.toBlob(function(e){return t(new File([e],a,{type:d,lastModified:Date.now()}))}),h.onerror=r},f.src=e.target.result}})}});
