<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<body layout:fragment="page-content">
<p>[[${wedding}]]</p>

<div x-data="{ files: null, fullName: null}">
    <h1 class="font-dancing-script text-6xl text-center my-20">[[${task.title}]]</h1>

    <div class="">

        <input x-ref="fileSelector" style="display: none" type="file" multiple="true"
               x-on:change="files = Object.values($event.target.files)">
        <button class="btn" @click="$refs.fileSelector.click()">WÃ¤hle deine Bilder aus</button>
        <span x-text="files ? files.map(file => file.name).join(', ') : ''"></span>
        <button class="btn btn-primary" @click="await uploadImages(files, fullName)">Bilder hochladen</button>
    </div>

    <img style="transition: opacity 500ms ease-in;" src="/svg/hearts.svg">
    <p>Wird hochgeladen</p>

</div>
<div th:insert="scripts :: uploadImages"></div>
</body>
